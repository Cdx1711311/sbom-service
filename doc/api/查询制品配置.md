<!--
project: "SBOM Service"
title: 查询制品配置
date: 2022-11-17
maintainer: huanceng
comment:
-->

# 查询制品配置

## API接口
GET /sbom-api/queryProductConfig/{productType}

### 路径参数
`productType`: 查询的制品类型（所属社区）    string      *必需*

| productType可选值 |
|----------------|
| openEuler      |
| MindSpore      |
| openGauss      |

### HTTP状态码
```text
200: OK
500: Internal Server Error
```

### 返回字段说明
```text
name: 后端字段名     string
label: 前端展示标签   string
valueToNextConfig: 标签可选值及后续配置 map<string, object>

当valueToNextConfig中的key对应的value为null时，说明该key无后续配置
```

### 样例
#### 请求-1
GET /sbom-api/queryProductConfig/openEuler

#### 返回-1
```json
{
  "name": "version",
  "label": "版本号",
  "valueToNextConfig": {
    "openEuler-20.03-LTS-SP2": {
      "name": "imageFormat",
      "label": "文件格式",
      "valueToNextConfig": {
        "ISO": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        },
        "EPOL": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        }
      }
    },
    "openEuler-20.03-LTS-SP1": {
      "name": "imageFormat",
      "label": "文件格式",
      "valueToNextConfig": {
        "ISO": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        },
        "EPOL": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        }
      }
    },
    "openEuler-20.03-LTS-SP3": {
      "name": "imageFormat",
      "label": "文件格式",
      "valueToNextConfig": {
        "ISO": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        },
        "EPOL": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        }
      }
    },
    "openEuler-22.03-LTS": {
      "name": "arch",
      "label": "系统架构",
      "valueToNextConfig": {
        "update-wallaby": {
          "name": "arch",
          "label": "系统架构",
          "valueToNextConfig": {
            "aarch64": null,
            "x86_64": null
          }
        },
        "aarch64": null,
        "x86_64": null,
        "ISO": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            },
            "everything": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            },
            "empty": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        },
        "EPOL": {
          "name": "imageType",
          "label": "镜像类型",
          "valueToNextConfig": {
            "update-wallaby": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            },
            "update-train": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "aarch64": null,
                "x86_64": null
              }
            }
          }
        },
        "update-train": {
          "name": "arch",
          "label": "系统架构",
          "valueToNextConfig": {
            "aarch64": null,
            "x86_64": null
          }
        },
        "update": {
          "name": "arch",
          "label": "系统架构",
          "valueToNextConfig": {
            "aarch64": null,
            "x86_64": null
          }
        },
        "everything": {
          "name": "arch",
          "label": "系统架构",
          "valueToNextConfig": {
            "aarch64": null,
            "x86_64": null
          }
        },
        "empty": {
          "name": "arch",
          "label": "系统架构",
          "valueToNextConfig": {
            "aarch64": null,
            "x86_64": null
          }
        }
      }
    }
  }
}
```

#### 请求-2
GET /sbom-api/queryProductConfig/MindSpore

#### 返回-2
```json
{
  "name": "productName",
  "label": "软件名",
  "valueToNextConfig": {
    "MindSpore": {
      "name": "version",
      "label": "版本号",
      "valueToNextConfig": {
        "1.8.0": {
          "name": "platform",
          "label": "硬件平台",
          "valueToNextConfig": {
            "CPU": {
              "name": "os",
              "label": "操作系统",
              "valueToNextConfig": {
                "Linux": {
                  "name": "arch",
                  "label": "系统架构",
                  "valueToNextConfig": {
                    "x86_64": {
                      "name": "language",
                      "label": "编程语言",
                      "valueToNextConfig": {
                        "Python 3.7.0": null
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
```

#### 请求-3
GET /sbom-api/queryProductConfig/openGauss

#### 返回-3
```json
{
  "name": "productName",
  "label": "软件名",
  "valueToNextConfig": {
    "openGauss": {
      "name": "version",
      "label": "版本号",
      "valueToNextConfig": {
        "3.1.0": {
          "name": "os",
          "label": "操作系统",
          "valueToNextConfig": {
            "CentOS": {
              "name": "arch",
              "label": "系统架构",
              "valueToNextConfig": {
                "x86_64": null
              }
            }
          }
        }
      }
    }
  }
}
```

