(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21805e"],{c8e8:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const n={class:"sbom-service"},r=Object(o["createTextVNode"])("Package"),c=Object(o["createTextVNode"])("Module"),l=Object(o["createTextVNode"])("Dependence"),i=Object(o["createTextVNode"])("Search"),d=Object(o["createTextVNode"])("详情");function p(e,t,a,p,b,s){const m=Object(o["resolveComponent"])("el-radio"),u=Object(o["resolveComponent"])("el-radio-group"),j=Object(o["resolveComponent"])("el-form-item"),O=Object(o["resolveComponent"])("el-option"),h=Object(o["resolveComponent"])("el-select"),g=Object(o["resolveComponent"])("el-col"),V=Object(o["resolveComponent"])("el-input"),C=Object(o["resolveComponent"])("el-row"),N=Object(o["resolveComponent"])("el-button"),f=Object(o["resolveComponent"])("el-form"),v=Object(o["resolveComponent"])("el-table-column"),y=Object(o["resolveComponent"])("router-link"),w=Object(o["resolveComponent"])("el-table"),x=Object(o["resolveComponent"])("el-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",n,[Object(o["createVNode"])(f,{ref:"conditionFormRef",model:e.conditionForm,rules:e.validateRules,"label-width":"120px","status-icon":""},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{label:"依赖类型",prop:"binaryType"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,{modelValue:e.conditionForm.binaryType,"onUpdate:modelValue":t[0]||(t[0]=t=>e.conditionForm.binaryType=t)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,{label:"PACKAGE_MANAGER"},{default:Object(o["withCtx"])(()=>[r]),_:1}),Object(o["createVNode"])(m,{label:"PROVIDE_MANAGER"},{default:Object(o["withCtx"])(()=>[c]),_:1}),Object(o["createVNode"])(m,{label:"EXTERNAL_MANAGER"},{default:Object(o["withCtx"])(()=>[l]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(o["createVNode"])(C,{gutter:1},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g,{span:4},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{label:"包管理器类型",prop:"type"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(h,{modelValue:e.conditionForm.type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.conditionForm.type=t),placeholder:"请选择包管理器类型"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(O,{label:"Maven",value:"maven"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),Object(o["createVNode"])(g,{span:6},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{label:"namespace"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(V,{modelValue:e.conditionForm.namespace,"onUpdate:modelValue":t[2]||(t[2]=t=>e.conditionForm.namespace=t),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),Object(o["createVNode"])(g,{span:6},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{label:"name",prop:"name"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(V,{modelValue:e.conditionForm.name,"onUpdate:modelValue":t[3]||(t[3]=t=>e.conditionForm.name=t),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),Object(o["createVNode"])(g,{span:6},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{label:"version"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(V,{modelValue:e.conditionForm.version,"onUpdate:modelValue":t[4]||(t[4]=t=>e.conditionForm.version=t),clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(N,{type:"primary",icon:e.Search,onClick:t[5]||(t[5]=t=>e.retrieveBinary(e.conditionFormRef))},{default:Object(o["withCtx"])(()=>[i]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"]),Object(o["createVNode"])(w,{ref:"singleTableRef",data:e.pageData,stripe:"",border:"","highlight-current-row":"","max-height":"600",style:{width:"100%"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(v,{fixed:"",type:"index",width:"70",index:e.indexCounter},null,8,["index"]),Object(o["createVNode"])(v,{fixed:"",property:"purl",label:"依赖描述符（PURL）",width:"600"}),Object(o["createVNode"])(v,{fixed:"",property:"name",label:"关联软件包名称",width:"250"}),Object(o["createVNode"])(v,{property:"version",label:"版本",width:"250"}),Object(o["createVNode"])(v,{property:"description",label:"软件包描述"}),Object(o["createVNode"])(v,{fixed:"right",label:"软件包详情",width:"120"},{default:Object(o["withCtx"])(e=>[Object(o["createVNode"])(y,{to:"/packageDetails/"+e.row.id,target:"_blank",class:"nav-link"},{default:Object(o["withCtx"])(()=>[d]),_:2},1032,["to"])]),_:1})]),_:1},8,["data"]),Object(o["createVNode"])(x,{layout:"prev, pager, next, jumper, sizes, total","page-sizes":[10,15,20,25,30],total:e.totalElements,"page-size":e.pageSize,"onUpdate:page-size":t[6]||(t[6]=t=>e.pageSize=t),currentPage:e.pageNum,"onUpdate:currentPage":t[7]||(t[7]=t=>e.pageNum=t),onCurrentChange:e.handlePageChange,onSizeChange:e.handleSizeChange},null,8,["total","page-size","currentPage","onCurrentChange","onSizeChange"])])}var b=a("f6f2"),s=a("7f24");const m="openEuler-22.03-LTS-x86_64-everything";var u=Object(o["defineComponent"])({name:"sbom-packages-list",setup(){const e=Object(o["ref"])(),t=Object(o["reactive"])({binaryType:[{required:!0,message:"请选择依赖类型",trigger:"change"}],type:[{required:!0,message:"请选择包管理器类型",trigger:"change"}],name:[{required:!0,message:"请输入Name",trigger:"blur"}]});return{conditionFormRef:e,validateRules:t}},data(){return{pageData:[],pageNum:Object(o["ref"])(1),pageSize:Object(o["ref"])(10),totalElements:Object(o["ref"])(0),Search:b["a"],conditionForm:Object(o["reactive"])({binaryType:"",type:"",namespace:"",name:"",version:""})}},methods:{indexCounter(e){return e+(this.pageNum-1)*this.pageSize+1},transferChildTable(e){let t=[];return t.push({colName:"概要",colValue:e.summary}),t.push({colName:"描述",colValue:e.description}),t.push({colName:"Homepage",colValue:e.homepage}),t.push({colName:"来源信息",colValue:e.sourceInfo}),t},handlePageChange(e){this.retrieveBinary(this.conditionFormRef)},handleSizeChange(e){this.retrieveBinary(this.conditionFormRef)},async retrieveBinary(e){e&&await e.validate((e,t)=>{if(e){let e=new FormData;e.append("productId",m),e.append("binaryType",this.conditionForm.binaryType),e.append("type",this.conditionForm.type),e.append("namespace",this.conditionForm.namespace),e.append("name",this.conditionForm.name),e.append("version",this.conditionForm.version),e.append("page",String(this.pageNum-1)),e.append("size",String(this.pageSize)),s["a"].querySbomPackagesByBinary(e).then(e=>{console.log(e.data),this.pageData=e.data.content,this.totalElements=e.data.totalElements}).catch(e=>{console.log(e)})}})}},mounted(){this.retrieveBinary(void 0)}}),j=a("6b0d"),O=a.n(j);const h=O()(u,[["render",p]]);t["default"]=h}}]);
//# sourceMappingURL=chunk-2d21805e.d4d38a26.js.map